<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/css/signup.css">
</head>
<body>
    <div class="container">
        <div class="card">
          <div class="card_title">
            <h1>Create Account</h1>
            <span>Already have an account? <a href="login">Sign In</a></span>
          </div>
          <div class="form">
          <form action="/signup" method="post" onsubmit="return validateForm()">
            <input type="text" name="name" id="username" placeholder="UserName" />
            <span id="nameMessage" style="color: red;"></span>
            <input type="email" name="email" placeholder="Email" id="email" />
            <span id="emailMessage" style="color: red;"></span>
            <input type="text" name="mobile" placeholder="Phone" id="mobile" />
            <span id="mobileMessage" style="color: red;"></span>
            <input type="password" name="password" placeholder="Password" id="password" />
            <span id="passwordMessage" style="color: red;"></span>
            <input type="text" name="referral" id="referral" placeholder="ReferralId(optional)" />
            <button type="submit">Sign Up</button>
            </form>
            <%
            if (typeof message !== 'undefined') {
            %>
            <p style="color: green; font-size: small;"><%= message %></p>
            <%
            }
            %>
            
          </div>
        </div>
      </div>
      <script>
    function validateForm() {
      // Get all input fields
      const nameInput = document.getElementById('username');
      const emailInput = document.getElementById('email');
      const mobileInput = document.getElementById('mobile');
      const passwordInput = document.getElementById('password');

      // Get all validation messages
      const nameMessage = document.getElementById('nameMessage');
      const emailMessage = document.getElementById('emailMessage');
      const mobileMessage = document.getElementById('mobileMessage');
      const passwordMessage = document.getElementById('passwordMessage');

      // Clear all validation messages
      nameMessage.textContent = '';
      emailMessage.textContent = '';
      mobileMessage.textContent = '';
      passwordMessage.textContent = '';

      // Validate the first name field
      if (nameInput.value.trim() === '') {
        nameMessage.textContent = 'Please enter your first name.';
      } else if (/^\d+$/.test(nameInput.value.trim())) {
        nameMessage.textContent = 'Please enter a valid first name without numbers.';
      } else {
        // The input is not empty and doesn't contain numbers, clear any previous error message.
        nameMessage.textContent = '';
      }




      // Validate the email field
      if (!/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/.test(emailInput.value)) {
        emailMessage.textContent = ' enter a valid email address.';
      }

      // Validate the mobile field
      if (!/^\d{10}$/.test(mobileInput.value)) {
        mobileMessage.textContent = 'Enter a valid 10-digit number.';
      }

      // Validate the password field
      if (passwordInput.value.length < 3) {
        passwordMessage.textContent = 'Enter a password 3 characters.';
      }

      // If all fields are valid, return true
      if (nameMessage.textContent === '' && emailMessage.textContent === '' && mobileMessage.textContent === '' && passwordMessage.textContent === '') {
        return true;
      }

      // Otherwise, return false
      return false;
    }
  </script>    
</body>
</html>

